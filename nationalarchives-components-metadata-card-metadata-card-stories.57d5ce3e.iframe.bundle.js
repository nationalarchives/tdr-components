(self.webpackChunk_nationalarchives_tdr_components=self.webpackChunk_nationalarchives_tdr_components||[]).push([[777],{"./src/nationalarchives/components/metadata-card/metadata-card.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Error:()=>Error,OpenAndClosedDetails:()=>OpenAndClosedDetails,OpenDetails:()=>OpenDetails,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./src/nationalarchives/components/card/_index.scss");var _story_njk__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/nationalarchives/components/metadata-card/story.njk"),_story_njk__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_story_njk__WEBPACK_IMPORTED_MODULE_1__),_storybook_test__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const __WEBPACK_DEFAULT_EXPORT__={title:"TDR/MetadataCard",args:{error:!1,metadataState:"Not entered"},argTypes:{metadataState:{options:["Not entered","Entered","Incomplete"],control:{type:"radio"}}}},Template=_ref=>(args=>_story_njk__WEBPACK_IMPORTED_MODULE_1___default()({params:_objectSpread({},args)}))(_objectSpread({},_extends({},(function _objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(_ref),_ref))));const Default=Template.bind({}),Error=Template.bind({});Error.args={error:!0,metadataState:"incomplete"};const open=async canvas=>{await _storybook_test__WEBPACK_IMPORTED_MODULE_2__.Q4.click(canvas.getByText("What descriptive metadata you can provide")),await async function sleep(ms){await new Promise((resolve=>setTimeout(resolve,ms)))}(1e3),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.E3)(canvas.getByText("Description")).toBeVisible(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.E3)(canvas.getByText("Date of the record")).toBeVisible(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.E3)(canvas.getByText("Language")).toBeVisible()},OpenDetails=Template.bind({});OpenDetails.play=async _ref2=>{let{canvasElement}=_ref2;const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.ux)(canvasElement);await open(canvas)};const OpenAndClosedDetails=Template.bind({});OpenAndClosedDetails.play=async _ref3=>{let{canvasElement}=_ref3;const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.ux)(canvasElement);await open(canvas),await _storybook_test__WEBPACK_IMPORTED_MODULE_2__.Q4.click(canvas.getByText("What descriptive metadata you can provide")),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.E3)(canvas.getByText("Description")).not.toBeVisible(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.E3)(canvas.getByText("Date of the record")).not.toBeVisible(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.E3)(canvas.getByText("Language")).not.toBeVisible()},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"({\n  ...args\n}): string => {\n  return createCard({\n    ...args\n  });\n}",...Default.parameters?.docs?.source}}},Error.parameters={...Error.parameters,docs:{...Error.parameters?.docs,source:{originalSource:"({\n  ...args\n}): string => {\n  return createCard({\n    ...args\n  });\n}",...Error.parameters?.docs?.source}}},OpenDetails.parameters={...OpenDetails.parameters,docs:{...OpenDetails.parameters?.docs,source:{originalSource:"({\n  ...args\n}): string => {\n  return createCard({\n    ...args\n  });\n}",...OpenDetails.parameters?.docs?.source}}},OpenAndClosedDetails.parameters={...OpenAndClosedDetails.parameters,docs:{...OpenAndClosedDetails.parameters?.docs,source:{originalSource:"({\n  ...args\n}): string => {\n  return createCard({\n    ...args\n  });\n}",...OpenAndClosedDetails.parameters?.docs?.source}}};const __namedExportsOrder=["Default","Error","OpenDetails","OpenAndClosedDetails"]},"./src/nationalarchives/components/metadata-card/story.njk":(module,exports,__webpack_require__)=>{const runtime=__webpack_require__("./node_modules/simple-nunjucks-loader/lib/cjs/runtime.js"),__nunjucks_module_dependencies__={},__nunjucks_template_import__dep_0=__webpack_require__("./src/nationalarchives/components/metadata-card/template.njk");function nunjucksTemplate(ctx={}){const templateContext={__nunjucks_loader_assets__:__nunjucks_module_dependencies__.assets,...ctx};var nunjucks=(runtime&&runtime.default||runtime)({dev:!1,jinjaCompat:!1,isAsyncTemplate:!1},__nunjucks_module_dependencies__);return nunjucks.isAsync()?nunjucks.renderAsync("src/nationalarchives/components/metadata-card/story.njk",templateContext):nunjucks.render("src/nationalarchives/components/metadata-card/story.njk",templateContext)}__nunjucks_module_dependencies__.templates={...__nunjucks_template_import__dep_0.__nunjucks_module_dependencies__.templates},__nunjucks_module_dependencies__.globals={...__nunjucks_template_import__dep_0.__nunjucks_module_dependencies__.globals},__nunjucks_module_dependencies__.extensions={...__nunjucks_template_import__dep_0.__nunjucks_module_dependencies__.extensions},__nunjucks_module_dependencies__.filters={...__nunjucks_template_import__dep_0.__nunjucks_module_dependencies__.filters},__nunjucks_module_dependencies__.assets={...__nunjucks_template_import__dep_0.__nunjucks_module_dependencies__.assets},__nunjucks_module_dependencies__.templates["src/nationalarchives/components/metadata-card/story.njk"]={root:function root(env,context,frame,runtime,cb){var lineno=0,colno=0,output="";try{var macro_t_1=runtime.makeMacro(["params"],[],(function(l_params,kwargs){var callerFrame=frame;frame=new runtime.Frame,kwargs=kwargs||{},Object.prototype.hasOwnProperty.call(kwargs,"caller")&&frame.set("caller",kwargs.caller),frame.set("params",l_params);var t_2="",tasks=[];return tasks.push((function(callback){env.getTemplate("src/nationalarchives/components/metadata-card/template.njk",!1,"src/nationalarchives/components/metadata-card/story.njk",!1,(function(t_4,t_3){t_4?cb(t_4):callback(null,t_3)}))})),tasks.push((function(template,callback){template.render(context.getVariables(),frame,(function(t_6,t_5){t_6?cb(t_6):callback(null,t_5)}))})),tasks.push((function(result,callback){t_2+=result,callback(null)})),env.waterfall(tasks,(function(){})),frame=callerFrame,new runtime.SafeString(t_2)}));context.addExport("metadataCard"),context.setVariable("metadataCard",macro_t_1),output+="\n\n",output+=runtime.suppressValue((lineno=4,colno=15,runtime.callWrap(macro_t_1,"metadataCard",context,[runtime.contextOrFrameLookup(context,frame,"params")])),env.opts.autoescape),cb(null,output+="\n")}catch(e){cb(runtime.handleError(e,lineno,colno))}}},nunjucksTemplate.__nunjucks_precompiled_template__=__nunjucks_module_dependencies__.templates["src/nationalarchives/components/metadata-card/story.njk"],nunjucksTemplate.__nunjucks_module_dependencies__=__nunjucks_module_dependencies__,module.exports=nunjucksTemplate},"./src/nationalarchives/components/metadata-card/template.njk":(module,exports,__webpack_require__)=>{const runtime=__webpack_require__("./node_modules/simple-nunjucks-loader/lib/cjs/runtime.js"),__nunjucks_module_dependencies__={};function nunjucksTemplate(ctx={}){const templateContext={__nunjucks_loader_assets__:__nunjucks_module_dependencies__.assets,...ctx};var nunjucks=(runtime&&runtime.default||runtime)({dev:!1,jinjaCompat:!1,isAsyncTemplate:!1},__nunjucks_module_dependencies__);return nunjucks.isAsync()?nunjucks.renderAsync("src/nationalarchives/components/metadata-card/template.njk",templateContext):nunjucks.render("src/nationalarchives/components/metadata-card/template.njk",templateContext)}__nunjucks_module_dependencies__.templates={},__nunjucks_module_dependencies__.globals={},__nunjucks_module_dependencies__.extensions={},__nunjucks_module_dependencies__.filters={},__nunjucks_module_dependencies__.assets={},__nunjucks_module_dependencies__.templates["src/nationalarchives/components/metadata-card/template.njk"]={root:function root(env,context,frame,runtime,cb){var output="";try{output+='<div class="tdr-card',1==runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"error")&&(output+=" tdr-card--error"),output+='">\n  <div class="tdr-card__content">\n    <h2 class="govuk-heading-s">\n      <a class="govuk-link govuk-link--no-visited-state" href="#">Descriptive metadata</a>\n    </h2>\n\n    <strong class="tdr-card--metadata__state govuk-tag govuk-tag--',"entered"==env.getFilter("lower").call(context,runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"metadataState"))?output+="blue":"incomplete"==env.getFilter("lower").call(context,runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"metadataState"))?output+="red":output+="grey",output+='">\n      ',output+=runtime.suppressValue(env.getFilter("d").call(context,runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"metadataState"),"Not entered"),env.opts.autoescape),cb(null,output+='\n    </strong>\n    <p class="govuk-body">Add descriptive metadata to your files</p>\n    <p class="tdr-card--metadata__inset-text govuk-inset-text govuk-!-margin-top-0">You do not need to add descriptive metadata but it can enhance your record.</p>\n    <details class="govuk-details   govuk-!-margin-bottom-2" data-module="govuk-details">\n      <summary class="govuk-details__summary">\n        <span class="govuk-details__summary-text">What descriptive metadata you can provide</span>\n      </summary>\n      <div class="govuk-details__text">\n        <ul class="govuk-list govuk-list--bullet govuk-list--spaced">\n          <li>Description</li>\n          <li>Date of the record</li>\n          <li>Language</li>\n          <li>Translated title of record</li>\n          <li>Related materials</li>\n          <li>Former reference</li>\n          <li>Creating body</li>\n        </ul>\n      </div>\n    </details>\n  </div>\n</div>\n')}catch(e){cb(runtime.handleError(e,0,0))}}},nunjucksTemplate.__nunjucks_precompiled_template__=__nunjucks_module_dependencies__.templates["src/nationalarchives/components/metadata-card/template.njk"],nunjucksTemplate.__nunjucks_module_dependencies__=__nunjucks_module_dependencies__,module.exports=nunjucksTemplate}}]);