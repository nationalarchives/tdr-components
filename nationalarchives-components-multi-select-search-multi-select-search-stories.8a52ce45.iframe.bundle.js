(self.webpackChunk_nationalarchives_tdr_components=self.webpackChunk_nationalarchives_tdr_components||[]).push([[665],{"./src/nationalarchives/components/multi-select-search/multi-select-search.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Filter:()=>Filter,KeyboardSelect:()=>KeyboardSelect,LongList:()=>LongList,SRIndicatorChangeOnChecked:()=>SRIndicatorChangeOnChecked,SRIndicatorChangeOnFilter:()=>SRIndicatorChangeOnFilter,SearchSelect:()=>SearchSelect,Select:()=>Select,SelectedIndicatorChangeOnChecked:()=>SelectedIndicatorChangeOnChecked,SelectedIndicatorIsVisible:()=>SelectedIndicatorIsVisible,__namedExportsOrder:()=>__namedExportsOrder,default:()=>multi_select_search_stories});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),_index=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/nationalarchives/components/multi-select-search/_index.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(_index.A,options);_index.A&&_index.A.locals&&_index.A.locals;var story=__webpack_require__("./src/nationalarchives/components/multi-select-search/story.njk"),story_default=__webpack_require__.n(story);const multi_select_search_examples=[{name:"default",description:"The default list of options",data:{name:"language",items:[{name:"Afar",value:"aa"},{name:"Abkhazian",value:"ab"},{name:"English",value:"en"},{name:"Bislama",value:"bi"},{name:"Bengali",value:"bn"}]}},{name:"long-list",description:"A long list of options",data:{name:"language-long",copySingle:"language",copyMultiple:"languages",items:[{name:"Afar",value:"aa"},{name:"Abkhazian",value:"ab"},{name:"Avestan",value:"ae"},{name:"Afrikaans",value:"af"},{name:"Akan",value:"ak"},{name:"Amharic",value:"am"},{name:"Aragonese",value:"an"},{name:"Arabic",value:"ar"},{name:"Assamese",value:"as"},{name:"Avaric",value:"av"},{name:"Aymara",value:"ay"},{name:"Azerbaijani",value:"az"},{name:"Bashkir",value:"ba"},{name:"Belarusian",value:"be"},{name:"Bulgarian",value:"bg"},{name:"Bihari languages",value:"bh"},{name:"Bislama",value:"bi"},{name:"Bambara",value:"bm"},{name:"Bengali",value:"bn"},{name:"Tibetan",value:"bo"},{name:"Breton",value:"br"},{name:"Bosnian",value:"bs"},{name:"Catalan; Valencian",value:"ca"},{name:"Chechen",value:"ce"},{name:"Chamorro",value:"ch"},{name:"Corsican",value:"co"},{name:"Cree",value:"cr"},{name:"Czech",value:"cs"},{name:"Church Slavic; Old Slavonic; Church Slavonic; Old Bulgarian; Old Church Slavonic",value:"cu"},{name:"Chuvash",value:"cv"},{name:"Welsh",value:"cy"},{name:"Danish",value:"da"},{name:"German",value:"de"},{name:"Divehi; Dhivehi; Maldivian",value:"dv"},{name:"Dzongkha",value:"dz"},{name:"Ewe",value:"ee"},{name:"Greek, Modern (1453-)",value:"el"},{name:"English",value:"en"},{name:"Esperanto",value:"eo"},{name:"Spanish; Castilian",value:"es"},{name:"Estonian",value:"et"},{name:"Basque",value:"eu"},{name:"Persian",value:"fa"},{name:"Fulah",value:"ff"},{name:"Finnish",value:"fi"},{name:"Fijian",value:"fj"},{name:"Faroese",value:"fo"},{name:"French",value:"fr"},{name:"Western Frisian",value:"fy"},{name:"Irish",value:"ga"},{name:"Gaelic; Scottish Gaelic",value:"gd"},{name:"Galician",value:"gl"},{name:"Guarani",value:"gn"},{name:"Gujarati",value:"gu"},{name:"Manx",value:"gv"},{name:"Hausa",value:"ha"},{name:"Hebrew",value:"he"},{name:"Hindi",value:"hi"},{name:"Hiri Motu",value:"ho"},{name:"Croatian",value:"hr"},{name:"Haitian; Haitian Creole",value:"ht"},{name:"Hungarian",value:"hu"},{name:"Armenian",value:"hy"},{name:"Herero",value:"hz"},{name:"Interlingua (International Auxiliary Language Association)",value:"ia"},{name:"Indonesian",value:"id"},{name:"Interlingue; Occidental",value:"ie"},{name:"Igbo",value:"ig"},{name:"Sichuan Yi; Nuosu",value:"ii"},{name:"Inupiaq",value:"ik"},{name:"Ido",value:"io"},{name:"Icelandic",value:"is"},{name:"Italian",value:"it"},{name:"Inuktitut",value:"iu"},{name:"Japanese",value:"ja"},{name:"Javanese",value:"jv"},{name:"Georgian",value:"ka"},{name:"Kongo",value:"kg"},{name:"Kikuyu; Gikuyu",value:"ki"},{name:"Kuanyama; Kwanyama",value:"kj"},{name:"Kazakh",value:"kk"},{name:"Kalaallisut; Greenlandic",value:"kl"},{name:"Central Khmer",value:"km"},{name:"Kannada",value:"kn"},{name:"Korean",value:"ko"},{name:"Kanuri",value:"kr"},{name:"Kashmiri",value:"ks"},{name:"Kurdish",value:"ku"},{name:"Komi",value:"kv"},{name:"Cornish",value:"kw"},{name:"Kirghiz; Kyrgyz",value:"ky"},{name:"Latin",value:"la"},{name:"Luxembourgish; Letzeburgesch",value:"lb"},{name:"Ganda",value:"lg"},{name:"Limburgan; Limburger; Limburgish",value:"li"},{name:"Lingala",value:"ln"},{name:"Lao",value:"lo"},{name:"Lithuanian",value:"lt"},{name:"Luba-Katanga",value:"lu"},{name:"Latvian",value:"lv"},{name:"Malagasy",value:"mg"},{name:"Marshallese",value:"mh"},{name:"Maori",value:"mi"},{name:"Macedonian",value:"mk"},{name:"Malayalam",value:"ml"},{name:"Mongolian",value:"mn"},{name:"Marathi",value:"mr"},{name:"Malay",value:"ms"},{name:"Maltese",value:"mt"},{name:"Burmese",value:"my"},{name:"Nauru",value:"na"},{name:"Bokmål, Norwegian; Norwegian Bokmål",value:"nb"},{name:"Ndebele, North; North Ndebele",value:"nd"},{name:"Nepali",value:"ne"},{name:"Ndonga",value:"ng"},{name:"Dutch; Flemish",value:"nl"},{name:"Norwegian Nynorsk; Nynorsk, Norwegian",value:"nn"},{name:"Norwegian",value:"no"},{name:"Ndebele, South; South Ndebele",value:"nr"},{name:"Navajo; Navaho",value:"nv"},{name:"Chichewa; Chewa; Nyanja",value:"ny"},{name:"Occitan (post 1500)",value:"oc"},{name:"Ojibwa",value:"oj"},{name:"Oromo",value:"om"},{name:"Oriya",value:"or"},{name:"Ossetian; Ossetic",value:"os"},{name:"Panjabi; Punjabi",value:"pa"},{name:"Pali",value:"pi"},{name:"Polish",value:"pl"},{name:"Pushto; Pashto",value:"ps"},{name:"Portuguese",value:"pt"},{name:"Quechua",value:"qu"},{name:"Romansh",value:"rm"},{name:"Rundi",value:"rn"},{name:"Romanian; Moldavian; Moldovan",value:"ro"},{name:"Russian",value:"ru"},{name:"Kinyarwanda",value:"rw"},{name:"Sanskrit",value:"sa"},{name:"Sardinian",value:"sc"},{name:"Sindhi",value:"sd"},{name:"Northern Sami",value:"se"},{name:"Sango",value:"sg"},{name:"Sinhala; Sinhalese",value:"si"},{name:"Slovak",value:"sk"},{name:"Slovenian",value:"sl"},{name:"Samoan",value:"sm"},{name:"Shona",value:"sn"},{name:"Somali",value:"so"},{name:"Albanian",value:"sq"},{name:"Serbian",value:"sr"},{name:"Swati",value:"ss"},{name:"Sotho, Southern",value:"st"},{name:"Sundanese",value:"su"},{name:"Swedish",value:"sv"},{name:"Swahili",value:"sw"},{name:"Tamil",value:"ta"},{name:"Telugu",value:"te"},{name:"Tajik",value:"tg"},{name:"Thai",value:"th"},{name:"Tigrinya",value:"ti"},{name:"Turkmen",value:"tk"},{name:"Tagalog",value:"tl"},{name:"Tswana",value:"tn"},{name:"Tonga (Tonga Islands)",value:"to"},{name:"Turkish",value:"tr"},{name:"Tsonga",value:"ts"},{name:"Tatar",value:"tt"},{name:"Twi",value:"tw"},{name:"Tahitian",value:"ty"},{name:"Uighur; Uyghur",value:"ug"},{name:"Ukrainian",value:"uk"},{name:"Urdu",value:"ur"},{name:"Uzbek",value:"uz"},{name:"Venda",value:"ve"},{name:"Vietnamese",value:"vi"},{name:"Volapük",value:"vo"},{name:"Walloon",value:"wa"},{name:"Wolof",value:"wo"},{name:"Xhosa",value:"xh"},{name:"Yiddish",value:"yi"},{name:"Yoruba",value:"yo"},{name:"Zhuang; Chuang",value:"za"},{name:"Chinese",value:"zh"},{name:"Zulu",value:"zu"}]}}];function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class MultiSelectSearch{constructor(rootElement){var _rootElement$dataset$,_rootElement$dataset$2,_rootElement$dataset$3,_rootElement$dataset$4;_defineProperty(this,"timeoutId",null),_defineProperty(this,"initialise",(()=>{var _this$filter;null===(_this$filter=this.filter)||void 0===_this$filter||_this$filter.addEventListener("keyup",(ev=>{ev instanceof KeyboardEvent&&this.handleKeyUp(ev)})),this.list.addEventListener("change",this.processInputChange);const numChecked=this.getSelectedItems().length,numVisible=this.getVisibleItems().length;null!==this.selectedCount&&this.updateSelectedCount(this.selectedCount,numChecked),null!==this.filterCount&&this.updateFilteredCount(this.filterCount,numChecked,numVisible)})),_defineProperty(this,"handleKeyUp",(ev=>{ev.stopPropagation(),"Enter"!==ev.key?(clearTimeout(Number(this.timeoutId)),this.timeoutId=setTimeout(this.processKeyUpTimeout,300)):ev.preventDefault()})),_defineProperty(this,"cleanString",(searchText=>(searchText=(searchText=(searchText=searchText.replace(/&/g,"and")).replace(/[’',:–-]/g,"")).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).trim().replace(/\s\s+/g," ").toLowerCase())),_defineProperty(this,"filterItems",((filterText,listItems)=>{const filterBy=this.cleanString(filterText),visibleItems=this.getSelectedItems();let i=0;for(i=0;i<listItems.length;i++)-1!==this.labels[i].search(filterBy)&&visibleItems.push(i);for(i=0;i<listItems.length;i++)this.list.children[i].classList.add("is-hidden");for(i=0;i<visibleItems.length;i++)this.list.children[visibleItems[i]].classList.remove("is-hidden")})),_defineProperty(this,"updateSelectedCount",((el,numChecked)=>{el.textContent="".concat(numChecked," selected")})),_defineProperty(this,"updateFilteredCount",((el,numChecked,numVisible)=>{const displayedCopy="".concat(1===numVisible?this.config.copySingle:this.config.copyMultiple," displayed"),selectedCopy="".concat(1===numChecked?this.config.copySingle:this.config.copyMultiple," selected"),output="".concat(numVisible," ").concat(displayedCopy,", ").concat(numChecked," ").concat(selectedCopy);el.innerHTML=output})),_defineProperty(this,"setupHeight",(()=>{if(null===this.container)return;const containerHeight=this.container.clientHeight,listHeight=this.getAbsoluteHeight(this.list);if(listHeight<containerHeight+50)return void(this.container.style.height=listHeight+"px");const lastVisibleItem=this.getInViewport(this.list.children).pop();if(void 0!==lastVisibleItem){const height=(null==lastVisibleItem?void 0:lastVisibleItem.offsetTop)+lastVisibleItem.clientHeight/1.5;this.container.style.height=height+"px"}})),_defineProperty(this,"getAbsoluteHeight",(el=>{const styles=window.getComputedStyle(el),margin=parseFloat(styles.marginTop)+parseFloat(styles.marginBottom);return Math.ceil(el.offsetHeight+margin)})),_defineProperty(this,"isInViewport",(listItem=>{if(null===this.container)return!1;const containerHeight=this.container.clientHeight,containerOffsetTop=this.container.getBoundingClientRect().top;return listItem.getBoundingClientRect().top-containerOffsetTop<containerHeight})),_defineProperty(this,"getInViewport",(list=>Array.from(list).filter(this.isInViewport))),_defineProperty(this,"getSelectedItems",(()=>{const selectedIndexes=[];return Array.from(this.inputs).forEach(((input,i)=>{input.checked&&selectedIndexes.push(i)})),selectedIndexes})),_defineProperty(this,"getVisibleItems",(()=>{const visibleItems=[];for(let i=0;i<this.list.children.length;i++)this.list.children[i].classList.contains("is-hidden")||visibleItems.push(i);return visibleItems})),_defineProperty(this,"processKeyUpTimeout",(()=>{if(null===this.filter)return;this.filterItems(this.filter.value,this.list.children);const numChecked=this.getSelectedItems().length,numVisible=this.getVisibleItems().length;null!==this.filterCount&&this.updateFilteredCount(this.filterCount,numChecked,numVisible)})),_defineProperty(this,"processInputChange",(()=>{const numChecked=this.getSelectedItems().length,numVisible=this.getVisibleItems().length;null!==this.selectedCount&&this.updateSelectedCount(this.selectedCount,numChecked),null!==this.filterCount&&this.updateFilteredCount(this.filterCount,numChecked,numVisible)})),this.container=rootElement.querySelector(".js-container"),this.list=rootElement.querySelector("ul"),this.inputs=rootElement.querySelectorAll("input[type=checkbox]"),this.filter=rootElement.querySelector("input[type=text]"),this.filterCount=rootElement.querySelector(".js-filter-count"),this.selectedCount=rootElement.querySelector(".js-selected-count"),this.config={copySingle:null!==(_rootElement$dataset$=null===(_rootElement$dataset$2=rootElement.dataset.copySingle)||void 0===_rootElement$dataset$2?void 0:_rootElement$dataset$2.trim())&&void 0!==_rootElement$dataset$?_rootElement$dataset$:"",copyMultiple:null!==(_rootElement$dataset$3=null===(_rootElement$dataset$4=rootElement.dataset.copyMultiple)||void 0===_rootElement$dataset$4?void 0:_rootElement$dataset$4.trim())&&void 0!==_rootElement$dataset$3?_rootElement$dataset$3:""},this.labels=[];for(let i=0;i<this.list.children.length;i++){var _this$list$children$i;this.labels.push(this.cleanString(null!==(_this$list$children$i=this.list.children[i].textContent)&&void 0!==_this$list$children$i?_this$list$children$i:""))}rootElement.setAttribute("data-module-active","true")}}var dist=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs");const multi_select_search_stories={title:"TDR/MultiSelectSearch",args:{id:"123",name:"item_select",copySingle:"item",copyMultiple:"items"},decorators:[storyFn=>{const wrapper=document.createElement("div");wrapper.style.margin="0 3em";const doc=(new DOMParser).parseFromString(storyFn(),"text/html");wrapper.appendChild(doc.body.firstElementChild);return wrapper.querySelectorAll("[data-module=multi-select-search]").forEach((msEl=>{new MultiSelectSearch(msEl).initialise()})),wrapper}],argTypes:{id:{description:"When using Nunjucks template creates unique IDs within the component. If not provided `name` param is used."},name:{description:"When using Nunjucks template sets the `name` attribute on all checkboxes"},copySingle:{name:"Copy for single item found",description:"For example to configure SR to announce '1 language found' instead of '1 item found', enter 'language'"},copyMultiple:{name:"Copy for multiple items found",description:"For example to configure SR to announce '23 languages found' instead of '23 items found', enter 'languages'"}}},Template=args=>(void 0!==args.dataSource&&null!==args.dataSource||(args.dataSource="default"),(args=>{const exampleData=(name=args.dataSource,multi_select_search_examples.find((ex=>ex.name===name)));var name;return args.items=exampleData.data.items,story_default()({params:{...args}})})({...args})),Default=Template.bind({}),LongList=Template.bind({});LongList.args={dataSource:"long-list"};const Select=Template.bind({});Select.play=async({canvasElement})=>{const canvas=(0,dist.ux)(canvasElement);await dist.Q4.click(canvas.getByLabelText("Afar").nextElementSibling),await dist.Q4.click(canvas.getByLabelText("English").nextElementSibling),await(0,dist.E3)(canvas.getByLabelText("Afar")).toBeChecked(),await(0,dist.E3)(canvas.getByLabelText("English")).toBeChecked()};const Filter=Template.bind({});Filter.play=async({canvasElement})=>{const canvas=(0,dist.ux)(canvasElement);await dist.Q4.click(canvas.getByLabelText("Filter items")),await dist.Q4.type(canvas.getByLabelText("Filter items"),"Afar"),await(0,dist.fm)((async()=>{await(0,dist.E3)(canvas.queryByLabelText("English")?.parentElement).not.toBeVisible()})).catch((error=>{console.error(error)})),await(0,dist.E3)(canvas.getByLabelText("Afar").parentElement).toBeVisible()};const SearchSelect=Template.bind({});SearchSelect.play=async({canvasElement})=>{const canvas=(0,dist.ux)(canvasElement);await dist.Q4.type(canvas.getByLabelText("Filter items"),"Afar"),await dist.Q4.click(canvas.getByLabelText("Afar").nextElementSibling),(0,dist.E3)(canvas.getByLabelText("Afar")).toBeChecked()};const SRIndicatorChangeOnFilter=Template.bind({});SRIndicatorChangeOnFilter.play=async({canvasElement})=>{const canvas=(0,dist.ux)(canvasElement);await dist.Q4.type(canvas.getByLabelText("Filter",{exact:!1}),"b"),await(0,dist.fm)((async()=>{await(0,dist.E3)(canvas.queryByText("3 items displayed, 0 items selected")).toBeInTheDocument()})).catch((error=>{console.error(error)}))};const SRIndicatorChangeOnChecked=Template.bind({});SRIndicatorChangeOnChecked.play=async({canvasElement})=>{const canvas=(0,dist.ux)(canvasElement);await dist.Q4.click(canvas.getByLabelText("Afar").nextElementSibling),await dist.Q4.click(canvas.getByLabelText("Abkhazian").nextElementSibling),await(0,dist.fm)((async()=>{await(0,dist.E3)(canvas.queryByText("5 items displayed, 2 items selected")).toBeInTheDocument()})).catch((error=>{console.error(error)}))};const SelectedIndicatorIsVisible=Template.bind({});SelectedIndicatorIsVisible.play=async({canvasElement})=>{const canvas=(0,dist.ux)(canvasElement);(0,dist.E3)(await canvas.findByText("0 selected")).toBeVisible()};const SelectedIndicatorChangeOnChecked=Template.bind({});SelectedIndicatorChangeOnChecked.play=async({canvasElement})=>{const canvas=(0,dist.ux)(canvasElement);await dist.Q4.click(canvas.getByLabelText("Afar").nextElementSibling),await dist.Q4.click(canvas.getByLabelText("Abkhazian").nextElementSibling),await(0,dist.E3)(canvas.findByText("2 selected")).resolves.toBeVisible().catch((error=>{console.error(error)}))};const KeyboardSelect=Template.bind({});KeyboardSelect.play=async({canvasElement})=>{const canvas=(0,dist.ux)(canvasElement);await dist.Q4.tab(),await dist.Q4.tab(),await dist.Q4.keyboard("[Space]"),await(0,dist.E3)(canvas.getByLabelText("Afar")).toBeChecked()};const __namedExportsOrder=["Default","LongList","Select","Filter","SearchSelect","SRIndicatorChangeOnFilter","SRIndicatorChangeOnChecked","SelectedIndicatorIsVisible","SelectedIndicatorChangeOnChecked","KeyboardSelect"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'(args: Record<string, any>): string => {\n  if (args.dataSource === undefined || args.dataSource === null) {\n    args.dataSource = "default";\n  }\n  return createMSS({\n    ...args\n  });\n}',...Default.parameters?.docs?.source}}},LongList.parameters={...LongList.parameters,docs:{...LongList.parameters?.docs,source:{originalSource:'(args: Record<string, any>): string => {\n  if (args.dataSource === undefined || args.dataSource === null) {\n    args.dataSource = "default";\n  }\n  return createMSS({\n    ...args\n  });\n}',...LongList.parameters?.docs?.source}}},Select.parameters={...Select.parameters,docs:{...Select.parameters?.docs,source:{originalSource:'(args: Record<string, any>): string => {\n  if (args.dataSource === undefined || args.dataSource === null) {\n    args.dataSource = "default";\n  }\n  return createMSS({\n    ...args\n  });\n}',...Select.parameters?.docs?.source}}},Filter.parameters={...Filter.parameters,docs:{...Filter.parameters?.docs,source:{originalSource:'(args: Record<string, any>): string => {\n  if (args.dataSource === undefined || args.dataSource === null) {\n    args.dataSource = "default";\n  }\n  return createMSS({\n    ...args\n  });\n}',...Filter.parameters?.docs?.source}}},SearchSelect.parameters={...SearchSelect.parameters,docs:{...SearchSelect.parameters?.docs,source:{originalSource:'(args: Record<string, any>): string => {\n  if (args.dataSource === undefined || args.dataSource === null) {\n    args.dataSource = "default";\n  }\n  return createMSS({\n    ...args\n  });\n}',...SearchSelect.parameters?.docs?.source}}},SRIndicatorChangeOnFilter.parameters={...SRIndicatorChangeOnFilter.parameters,docs:{...SRIndicatorChangeOnFilter.parameters?.docs,source:{originalSource:'(args: Record<string, any>): string => {\n  if (args.dataSource === undefined || args.dataSource === null) {\n    args.dataSource = "default";\n  }\n  return createMSS({\n    ...args\n  });\n}',...SRIndicatorChangeOnFilter.parameters?.docs?.source}}},SRIndicatorChangeOnChecked.parameters={...SRIndicatorChangeOnChecked.parameters,docs:{...SRIndicatorChangeOnChecked.parameters?.docs,source:{originalSource:'(args: Record<string, any>): string => {\n  if (args.dataSource === undefined || args.dataSource === null) {\n    args.dataSource = "default";\n  }\n  return createMSS({\n    ...args\n  });\n}',...SRIndicatorChangeOnChecked.parameters?.docs?.source}}},SelectedIndicatorIsVisible.parameters={...SelectedIndicatorIsVisible.parameters,docs:{...SelectedIndicatorIsVisible.parameters?.docs,source:{originalSource:'(args: Record<string, any>): string => {\n  if (args.dataSource === undefined || args.dataSource === null) {\n    args.dataSource = "default";\n  }\n  return createMSS({\n    ...args\n  });\n}',...SelectedIndicatorIsVisible.parameters?.docs?.source}}},SelectedIndicatorChangeOnChecked.parameters={...SelectedIndicatorChangeOnChecked.parameters,docs:{...SelectedIndicatorChangeOnChecked.parameters?.docs,source:{originalSource:'(args: Record<string, any>): string => {\n  if (args.dataSource === undefined || args.dataSource === null) {\n    args.dataSource = "default";\n  }\n  return createMSS({\n    ...args\n  });\n}',...SelectedIndicatorChangeOnChecked.parameters?.docs?.source}}},KeyboardSelect.parameters={...KeyboardSelect.parameters,docs:{...KeyboardSelect.parameters?.docs,source:{originalSource:'(args: Record<string, any>): string => {\n  if (args.dataSource === undefined || args.dataSource === null) {\n    args.dataSource = "default";\n  }\n  return createMSS({\n    ...args\n  });\n}',...KeyboardSelect.parameters?.docs?.source}}}},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/nationalarchives/components/multi-select-search/_index.scss":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".tna-multi-select-search__list-container{position:relative;max-height:225px;overflow:hidden auto;background-color:#fff}.tna-multi-select-search__filter{display:none}.tna-multi-select-search[data-module-active=true] .tna-multi-select-search__filter{display:block}.tna-multi-select-search__list{padding:0;margin:10px 0}li.is-hidden{display:none}","",{version:3,sources:["webpack://./src/nationalarchives/components/multi-select-search/_index.scss"],names:[],mappings:"AAMA,yCACE,iBAAA,CACA,gBAAA,CACA,oBAAA,CACA,qBAAA,CAGF,iCACE,YAAA,CAGF,mFAEE,aAAA,CAGF,+BACE,SAAA,CACA,aAAA,CAGF,aACE,YAAA",sourcesContent:['\n              @import "govuk-frontend/dist/govuk/base";\n              @import "govuk-frontend/dist/govuk/settings/all";\n              @import "govuk-frontend/dist/govuk/tools/all";\n              @import "govuk-frontend/dist/govuk/helpers/all";\n            \n.tna-multi-select-search__list-container {\n  position: relative;\n  max-height: 225px;\n  overflow: hidden auto;\n  background-color: #fff;\n}\n\n.tna-multi-select-search__filter {\n  display: none;\n}\n\n.tna-multi-select-search[data-module-active="true"]\n  .tna-multi-select-search__filter {\n  display: block;\n}\n\n.tna-multi-select-search__list {\n  padding: 0;\n  margin: 10px 0;\n}\n\nli.is-hidden {\n  display: none;\n}\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content})).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":module=>{"use strict";module.exports=function(item){var content=item[1],cssMapping=item[3];if(!cssMapping)return content;if("function"==typeof btoa){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),sourceMapping="/*# ".concat(data," */");return[content].concat([sourceMapping]).join("\n")}return[content].join("\n")}},"./src/nationalarchives/components/multi-select-search/story.njk":(module,exports,__webpack_require__)=>{const runtime=__webpack_require__("./node_modules/simple-nunjucks-loader/lib/cjs/runtime.js"),__nunjucks_module_dependencies__={},__nunjucks_template_import__dep_0=__webpack_require__("./src/nationalarchives/components/multi-select-search/template.njk");function nunjucksTemplate(ctx={}){const templateContext={__nunjucks_loader_assets__:__nunjucks_module_dependencies__.assets,...ctx};var nunjucks=(runtime&&runtime.default||runtime)({dev:!1,jinjaCompat:!1,isAsyncTemplate:!1},__nunjucks_module_dependencies__);return nunjucks.isAsync()?nunjucks.renderAsync("src/nationalarchives/components/multi-select-search/story.njk",templateContext):nunjucks.render("src/nationalarchives/components/multi-select-search/story.njk",templateContext)}__nunjucks_module_dependencies__.templates={...__nunjucks_template_import__dep_0.__nunjucks_module_dependencies__.templates},__nunjucks_module_dependencies__.globals={...__nunjucks_template_import__dep_0.__nunjucks_module_dependencies__.globals},__nunjucks_module_dependencies__.extensions={...__nunjucks_template_import__dep_0.__nunjucks_module_dependencies__.extensions},__nunjucks_module_dependencies__.filters={...__nunjucks_template_import__dep_0.__nunjucks_module_dependencies__.filters},__nunjucks_module_dependencies__.assets={...__nunjucks_template_import__dep_0.__nunjucks_module_dependencies__.assets},__nunjucks_module_dependencies__.templates["src/nationalarchives/components/multi-select-search/story.njk"]={root:function root(env,context,frame,runtime,cb){var lineno=0,colno=0,output="";try{var macro_t_1=runtime.makeMacro(["params"],[],(function(l_params,kwargs){var callerFrame=frame;frame=new runtime.Frame,kwargs=kwargs||{},Object.prototype.hasOwnProperty.call(kwargs,"caller")&&frame.set("caller",kwargs.caller),frame.set("params",l_params);var t_2="",tasks=[];return tasks.push((function(callback){env.getTemplate("src/nationalarchives/components/multi-select-search/template.njk",!1,"src/nationalarchives/components/multi-select-search/story.njk",!1,(function(t_4,t_3){t_4?cb(t_4):callback(null,t_3)}))})),tasks.push((function(template,callback){template.render(context.getVariables(),frame,(function(t_6,t_5){t_6?cb(t_6):callback(null,t_5)}))})),tasks.push((function(result,callback){t_2+=result,callback(null)})),env.waterfall(tasks,(function(){})),frame=callerFrame,new runtime.SafeString(t_2)}));context.addExport("tdrMultiSelectSearch"),context.setVariable("tdrMultiSelectSearch",macro_t_1),output+="\n\n",output+=runtime.suppressValue((lineno=4,colno=23,runtime.callWrap(macro_t_1,"tdrMultiSelectSearch",context,[runtime.contextOrFrameLookup(context,frame,"params")])),env.opts.autoescape),cb(null,output+="\n")}catch(e){cb(runtime.handleError(e,lineno,colno))}}},nunjucksTemplate.__nunjucks_precompiled_template__=__nunjucks_module_dependencies__.templates["src/nationalarchives/components/multi-select-search/story.njk"],nunjucksTemplate.__nunjucks_module_dependencies__=__nunjucks_module_dependencies__,module.exports=nunjucksTemplate},"./src/nationalarchives/components/multi-select-search/template.njk":(module,exports,__webpack_require__)=>{const runtime=__webpack_require__("./node_modules/simple-nunjucks-loader/lib/cjs/runtime.js"),__nunjucks_module_dependencies__={};function nunjucksTemplate(ctx={}){const templateContext={__nunjucks_loader_assets__:__nunjucks_module_dependencies__.assets,...ctx};var nunjucks=(runtime&&runtime.default||runtime)({dev:!1,jinjaCompat:!1,isAsyncTemplate:!1},__nunjucks_module_dependencies__);return nunjucks.isAsync()?nunjucks.renderAsync("src/nationalarchives/components/multi-select-search/template.njk",templateContext):nunjucks.render("src/nationalarchives/components/multi-select-search/template.njk",templateContext)}__nunjucks_module_dependencies__.templates={},__nunjucks_module_dependencies__.globals={},__nunjucks_module_dependencies__.extensions={},__nunjucks_module_dependencies__.filters={},__nunjucks_module_dependencies__.assets={},__nunjucks_module_dependencies__.templates["src/nationalarchives/components/multi-select-search/template.njk"]={root:function root(env,context,frame,runtime,cb){var output="";try{var t_1,t_2,t_3,t_4;t_1=env.getFilter("d").call(context,runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"id"),env.getFilter("d").call(context,runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"name"),"0")),frame.set("unique_name",t_1,!0),frame.topLevel&&context.setVariable("unique_name",t_1),frame.topLevel&&context.addExport("unique_name",t_1),output+="\n",t_2=env.getFilter("join").call(context,["checkboxes_",runtime.contextOrFrameLookup(context,frame,"unique_name")]),frame.set("checkboxes_id",t_2,!0),frame.topLevel&&context.setVariable("checkboxes_id",t_2),frame.topLevel&&context.addExport("checkboxes_id",t_2),output+="\n",t_3=env.getFilter("join").call(context,["checkboxes_count_id_",runtime.contextOrFrameLookup(context,frame,"unique_name")]),frame.set("checkboxes_count_id",t_3,!0),frame.topLevel&&context.setVariable("checkboxes_count_id",t_3),frame.topLevel&&context.addExport("checkboxes_count_id",t_3),output+="\n",t_4=env.getFilter("join").call(context,["input_filter_",runtime.contextOrFrameLookup(context,frame,"unique_name")]),frame.set("filter_id",t_4,!0),frame.topLevel&&context.setVariable("filter_id",t_4),frame.topLevel&&context.addExport("filter_id",t_4),output+='\n\n<div class="tna-multi-select-search"\n    data-module="multi-select-search"\n    data-copy-single="',output+=runtime.suppressValue(runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"copySingle"),env.opts.autoescape),output+='"\n    data-copy-multiple="',output+=runtime.suppressValue(runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"copyMultiple"),env.opts.autoescape),output+='"\n    >\n\n  ',output+='\n  <div class="tna-multi-select-search__filter">\n    <label for="',output+=runtime.suppressValue(runtime.contextOrFrameLookup(context,frame,"filter_id"),env.opts.autoescape),output+='" class="govuk-label govuk-visually-hidden">Filter ',output+=runtime.suppressValue(env.getFilter("d").call(context,runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"copyMultiple"),runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"copySingle")),env.opts.autoescape),output+='</label>\n    <input name="tna-multi-select-search" id="',output+=runtime.suppressValue(runtime.contextOrFrameLookup(context,frame,"filter_id"),env.opts.autoescape),output+='"\n        class="tna-multi-select-search__filter-input govuk-input"\n        type="text" aria-describedby="',output+=runtime.suppressValue(runtime.contextOrFrameLookup(context,frame,"checkboxes_count_id"),env.opts.autoescape),output+='">\n  </div>\n\n  ',output+='\n  <div class="js-selected-count"></div>\n\n  ',output+='\n  <span id="',output+=runtime.suppressValue(runtime.contextOrFrameLookup(context,frame,"checkboxes_count_id"),env.opts.autoescape),output+='"\n      class="govuk-visually-hidden js-filter-count"\n      aria-live="polite"></span>\n\n  <div class="tna-multi-select-search__list-container js-container">\n    ',output+='\n    <ul class="govuk-checkboxes tna-multi-select-search__list"\n        id="language-select" aria-describedby="',output+=runtime.suppressValue(runtime.contextOrFrameLookup(context,frame,"checkboxes_count_id"),env.opts.autoescape),output+='">\n      ',frame=frame.push();var t_7=runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"items");if(t_7)for(var t_6=(t_7=runtime.fromIterator(t_7)).length,t_5=0;t_5<t_7.length;t_5++){var t_8=t_7[t_5];frame.set("item",t_8),frame.set("loop.index",t_5+1),frame.set("loop.index0",t_5),frame.set("loop.revindex",t_6-t_5),frame.set("loop.revindex0",t_6-t_5-1),frame.set("loop.first",0===t_5),frame.set("loop.last",t_5===t_6-1),frame.set("loop.length",t_6),output+='\n        <li class="govuk-checkboxes__item">\n          <input ',1==runtime.memberLookup(t_8,"checked")&&(output+="checked"),output+=' class="govuk-checkboxes__input" id="',output+=runtime.suppressValue(runtime.contextOrFrameLookup(context,frame,"unique_name"),env.opts.autoescape),output+="-",output+=runtime.suppressValue(runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"loop"),"index"),env.opts.autoescape),output+='" name="',output+=runtime.suppressValue(runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"params"),"name"),env.opts.autoescape),output+='" type="checkbox" value="',output+=runtime.suppressValue(runtime.memberLookup(t_8,"value"),env.opts.autoescape),output+='">\n          <label class="govuk-label govuk-checkboxes__label" for="',output+=runtime.suppressValue(runtime.contextOrFrameLookup(context,frame,"unique_name"),env.opts.autoescape),output+="-",output+=runtime.suppressValue(runtime.memberLookup(runtime.contextOrFrameLookup(context,frame,"loop"),"index"),env.opts.autoescape),output+='">\n            ',output+=runtime.suppressValue(runtime.memberLookup(t_8,"name"),env.opts.autoescape),output+="\n          </label>\n        </li>\n      "}frame=frame.pop(),cb(null,output+="\n    </ul>\n  </div>\n</div>\n")}catch(e){cb(runtime.handleError(e,0,0))}}},nunjucksTemplate.__nunjucks_precompiled_template__=__nunjucks_module_dependencies__.templates["src/nationalarchives/components/multi-select-search/template.njk"],nunjucksTemplate.__nunjucks_module_dependencies__=__nunjucks_module_dependencies__,module.exports=nunjucksTemplate},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":module=>{"use strict";var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function updater(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function update(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":module=>{"use strict";var memo={};module.exports=function insertBySelector(insert,style){var target=function getTarget(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}(insert);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":module=>{"use strict";module.exports=function insertStyleElement(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=function setAttributesWithoutAttributes(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":module=>{"use strict";module.exports=function domAPI(options){if("undefined"==typeof document)return{update:function update(){},remove:function remove(){}};var styleElement=options.insertStyleElement(options);return{update:function update(obj){!function apply(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function remove(){!function removeStyleElement(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":module=>{"use strict";module.exports=function styleTagTransform(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}}}]);